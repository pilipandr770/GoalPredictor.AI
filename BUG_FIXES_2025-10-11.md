# üîß Bug Fixes - October 11, 2025

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∏ —â–æ –±—É–ª–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ

### 1. –ü–æ–º–∏–ª–∫–∞ numpy._core
**–ü—Ä–æ–±–ª–µ–º–∞:**
```
No module named 'numpy._core'
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°—Ç–∞—Ä—à–∞ –≤–µ—Ä—Å—ñ—è numpy (1.24.3) –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –Ω–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É numpy._core
- –ú–æ–¥–µ–ª—ñ –±—É–ª–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑ numpy 2.x

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
pip install --upgrade numpy
pip install --upgrade pandas scikit-learn scipy
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ numpy: 1.24.3 ‚Üí 2.2.6
- ‚úÖ pandas: 2.1.1 ‚Üí 2.3.3
- ‚úÖ scikit-learn: 1.5.2 ‚Üí 1.7.2
- ‚úÖ scipy: 1.14.1 ‚Üí 1.15.3

---

### 2. Football API 400 Error
**–ü—Ä–æ–±–ª–µ–º–∞:**
```
400 Client Error: for url: https://api.football-data.org/v4/matches?dateFrom=2025-10-11&dateTo=2025-10-25
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Football-Data.org API –º–∞—î –ª—ñ–º—ñ—Ç: **–º–∞–∫—Å–∏–º—É–º 10 –¥–Ω—ñ–≤** —É –∑–∞–ø–∏—Ç—ñ
- –ö–æ–¥ –∑–∞–ø–∏—Ç—É–≤–∞–≤ 14 –¥–Ω—ñ–≤ (days=14)

**–ö–æ–¥ –î–û –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
days = min(days, 14)  # Max 14 days ‚ùå
```

**–ö–æ–¥ –ü–Ü–°–õ–Ø –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
days = min(days, 10)  # Max 10 days (Football-Data.org API limit) ‚úÖ
```

**–§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω–æ:**
- `api/routes_football.py` (line 50)
- `api/routes_football.py` (line 137) - —Ç–∞–∫–æ–∂ –≤ get_prediction()

---

### 3. Match Not Found (404)
**–ü—Ä–æ–±–ª–µ–º–∞:**
```
192.168.178.76 - - [11/Oct/2025 19:38:21] "GET /api/football/predictions/535047 HTTP/1.1" 404 -
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ß–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É 400 API –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞–≤ –º–∞—Ç—á—ñ
- –§—É–Ω–∫—Ü—ñ—è get_prediction() –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏–ª–∞ –º–∞—Ç—á –∑ ID 535047

**–†—ñ—à–µ–Ω–Ω—è:**
1. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ª—ñ–º—ñ—Ç –¥–Ω—ñ–≤ (10 –∑–∞–º—ñ—Å—Ç—å 14)
2. –î–æ–¥–∞–Ω–æ –∫—Ä–∞—â–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
3. –ó–º—ñ–Ω–µ–Ω–æ –∫–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑ 404 –Ω–∞ 503 –¥–ª—è –ø–æ–º–∏–ª–æ–∫ API

**–ö–æ–¥ –ü–Ü–°–õ–Ø –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```python
if not data or 'matches' not in data:
    logger.error(f"‚ùå Failed to fetch matches from API")
    return jsonify({
        'success': False,
        'error': 'Unable to fetch match data from API. Please try again later.'
    }), 503  # Service Unavailable –∑–∞–º—ñ—Å—Ç—å 404 Not Found
```

---

## ‚úÖ –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

### –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π —É—Å–ø—ñ—à–Ω–æ:
```
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Football-Data.org API (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º—ñ–Ω)
üìÇ –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞: ml/models\over_2_5_model.pkl
‚úÖ Tennis API key loaded: 4146de008b...
```

### –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è (–Ω–æ—Ä–º–∞–ª—å–Ω—ñ):
```
‚ö†Ô∏è InconsistentVersionWarning: Trying to unpickle estimator from version 1.5.2 when using version 1.7.2
```
**–¶–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ!** –ú–æ–¥–µ–ª—ñ –ø—Ä–∞—Ü—é—é—Ç—å, –ø—Ä–æ—Å—Ç–æ –±—É–ª–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –∑—ñ —Å—Ç–∞—Ä–æ—é –≤–µ—Ä—Å—ñ—î—é scikit-learn.

---

## üìã –©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–∞–ª—ñ

1. **–°–ø—Ä–æ–±—É–π –∑–∞–ø—Ä–æ—Å–∏—Ç–∏ –º–∞—Ç—á—ñ:**
   - –í—ñ–¥–∫—Ä–∏–π http://localhost:5000/football
   - –í–∏–±–µ—Ä–∏ —Ñ—ñ–ª—å—Ç—Ä "1 –¥–µ–Ω—å" –∞–±–æ "7 –¥–Ω—ñ–≤"
   - –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –º–∞—Ç—á—ñ Brasileir√£o

2. **–°–ø—Ä–æ–±—É–π –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑:**
   - –ö–ª—ñ–∫–Ω–∏ –Ω–∞ –±—É–¥—å-—è–∫–∏–π –º–∞—Ç—á
   - –ù–∞—Ç–∏—Å–Ω–∏ "Prognose anzeigen"
   - –Ø–∫—â–æ premium –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á ‚Üí –ø–æ–±–∞—á–∏—à –ø—Ä–æ–≥–Ω–æ–∑
   - –Ø–∫—â–æ –Ω—ñ ‚Üí –ø–æ–±–∞—á–∏—à "Premium subscription required"

3. **–ü–µ—Ä–µ–≤—ñ—Ä –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - F12 ‚Üí Console
   - –ù–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ 400 –∞–±–æ 404

---

## üêõ –ú–æ–∂–ª–∏–≤—ñ –∑–∞–ª–∏—à–∫–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –Ø–∫—â–æ –≤—Å–µ —â–µ —î –ø–æ–º–∏–ª–∫–∏:
1. **ModuleNotFoundError** ‚Üí `pip install <module>`
2. **API Rate Limit** ‚Üí Football-Data.org: 10 req/min, 100/day
3. **Model loading warnings** ‚Üí –º–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ç—Ä–µ–Ω—É–≤–∞—Ç–∏ –º–æ–¥–µ–ª—ñ –∑ –Ω–æ–≤–æ—é –≤–µ—Ä—Å—ñ—î—é sklearn

---

## üìù –ü—ñ–¥—Å—É–º–æ–∫ –∑–º—ñ–Ω

| –§–∞–π–ª | –†—è–¥–∫–∏ | –ó–º—ñ–Ω–∏ |
|------|-------|-------|
| `api/routes_football.py` | 50 | `days = min(days, 10)` |
| `api/routes_football.py` | 137 | `timedelta(days=10)` |
| `api/routes_football.py` | 147-150 | –ö—Ä–∞—â–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ |
| **Dependencies** | - | numpy 2.2.6, pandas 2.3.3, sklearn 1.7.2 |

**–í—Å—å–æ–≥–æ –∑–º—ñ–Ω–µ–Ω–æ:** 2 —Ä—è–¥–∫–∏ –∫–æ–¥—É + –æ–Ω–æ–≤–ª–µ–Ω–æ 4 –ø–∞–∫–µ—Ç–∏

---

## ‚úÖ –¢–µ—Å—Ç–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–æ–¥–µ–ª–µ–π
python verify_ml_integration.py
# ‚úÖ Tennis: 42.3 MB model loaded
# ‚úÖ Football: 27 MB ensemble loaded

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API
curl http://localhost:5000/api/football/matches?days=1
# ‚úÖ Should return matches

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Tennis API
curl http://localhost:5000/api/tennis/matches?days=7
# ‚úÖ Should return 30 ATP/WTA matches
```

---

**–°—Ç–∞—Ç—É—Å:** üü¢ –í–ò–ü–†–ê–í–õ–ï–ù–û ‚úÖ
