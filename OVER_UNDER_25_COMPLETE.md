# üéØ OVER/UNDER 2.5 GOALS PREDICTION - –ì–û–¢–û–í–û!

## ‚úÖ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ:

### 1. –ù–∞—Ç—Ä–µ–Ω–æ–≤–∞–Ω–∞ –Ω–æ–≤–∞ –º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑—É Over/Under 2.5 –≥–æ–ª—ñ–≤

**–§–∞–π–ª–∏:**
- `ml/train_over25_goals.py` - —Å–∫—Ä–∏–ø—Ç —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
- `ml/models/over_2_5_goals_model.pkl` - –Ω–∞—Ç—Ä–µ–Ω–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å (RandomForest)
- `ml/models/over_2_5_scaler.pkl` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ç–æ—Ä
- `ml/models/over_2_5_features.pkl` - —Å–ø–∏—Å–æ–∫ —Ñ—ñ—á—ñ–≤ (17)
- `ml/models/over_2_5_metadata.pkl` - –º–µ—Ç–∞–¥–∞–Ω—ñ

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –º–æ–¥–µ–ª—ñ:**
- –ê–ª–≥–æ—Ä–∏—Ç–º: RandomForest (300 –¥–µ—Ä–µ–≤)
- –¢–æ—á–Ω—ñ—Å—Ç—å: **52-54%** (—Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∞ –æ—Ü—ñ–Ω–∫–∞)
- –§—ñ—á—ñ–≤: 17 (–∞–∫—Ü–µ–Ω—Ç –Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—é –≥–æ–ª—ñ–≤)
- –î–∞–Ω—ñ –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è: 5,014 –º–∞—Ç—á—ñ–≤

**–¢–û–ü-4 –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à—ñ —Ñ—ñ—á—ñ (—è–∫ —Ç–∏ —Ö–æ—Ç—ñ–≤):**
1. **home_recent_goals_against** (13.25%) - –ø—Ä–æ–ø—É—â–µ–Ω—ñ –≥–æ–ª–∏ –≥–æ—Å–ø–æ–¥–∞—Ä—è–º–∏
2. **home_recent_goals_for** (13.07%) - –∑–∞–±–∏—Ç—ñ –≥–æ–ª–∏ –≥–æ—Å–ø–æ–¥–∞—Ä—è–º–∏  
3. **away_recent_goals_against** (12.81%) - –ø—Ä–æ–ø—É—â–µ–Ω—ñ –≥–æ–ª–∏ –≥–æ—Å—Ç—è–º–∏
4. **away_recent_goals_for** (12.72%) - –∑–∞–±–∏—Ç—ñ –≥–æ–ª–∏ –≥–æ—Å—Ç—è–º–∏

**–°—É–º–∞—Ä–Ω–∞ –≤–∞–≥–∞ –≥–æ–ª—ñ–≤: ~52%** - —ñ—Å—Ç–æ—Ä—ñ—è –≥–æ–ª—ñ–≤ –¥—ñ–π—Å–Ω–æ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∞ —Ñ—ñ—á–∞! ‚úÖ

---

### 2. –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–µ—Ä–≤—ñ—Å –ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞–Ω–Ω—è

**–§–∞–π–ª:** `services/over25_prediction_service.py`

**API —Å–µ—Ä–≤—ñ—Å—É:**
```python
from services.over25_prediction_service import get_over25_prediction_service

predictor = get_over25_prediction_service()
result = predictor.predict(match_data)

# –ü–æ–≤–µ—Ä—Ç–∞—î:
{
    'over_2_5_probability': 0.56,     # 56% –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å Over 2.5
    'under_2_5_probability': 0.44,    # 44% –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å Under 2.5
    'prediction': 'Over 2.5',         # –§—ñ–Ω–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑
    'confidence': 'Low',              # High/Medium/Low
    'confidence_percentage': 56.4,    # –í—ñ–¥—Å–æ—Ç–æ–∫ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ
    'key_factors': [...]              # –ü–æ—è—Å–Ω–µ–Ω–Ω—è
}
```

---

### 3. –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ Football API

**–§–∞–π–ª:** `api/routes_football.py`

**Endpoint:** `GET /api/football/predictions/{match_id}`

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
    "success": true,
    "prediction": {
        "matchId": 535047,
        "type": "over_under_2_5",
        "over_2_5": 56.4,
        "under_2_5": 43.6,
        "confidence": 56.4,
        "recommendation": "Over 2.5",
        "explanation": "–ô–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –±—ñ–ª—å—à–µ 2.5 –≥–æ–ª—ñ–≤: 56.4%...",
        "keyFactors": [...]
    }
}
```

---

### 4. –û–Ω–æ–≤–ª–µ–Ω–æ UI (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)

**–§–∞–π–ª:** `templates/football.html`

**–ù–æ–≤–∏–π –≤–∏–≥–ª—è–¥ –ø—Ä–æ–≥–Ω–æ–∑—É:**

```
üéØ Prognose: Tore im Spiel

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   56.4%      ‚îÇ    43.6%     ‚îÇ
‚îÇ √úber 2.5     ‚îÇ Unter 2.5    ‚îÇ
‚îÇ   Tore       ‚îÇ    Tore      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Prognose: Over 2.5
Vertrauen: 56%

‚ö†Ô∏è Disclaimer: 
Dies ist eine statistische Prognose basierend auf historischen Daten.
Die Genauigkeit betr√§gt ca. 52%.
```

---

## üìä –¢–æ—á–Ω—ñ—Å—Ç—å –º–æ–¥–µ–ª—ñ

### –©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å –≤—ñ–¥—Å–æ—Ç–∫–∏?

**52-54% —Ç–æ—á–Ω—ñ—Å—Ç—å** - —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑—É Over/Under 2.5!

**–ß–æ–º—É –Ω–µ 70-80%?**
- –§—É—Ç–±–æ–ª –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π
- –ë–∞–≥–∞—Ç–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤ (—Ç—Ä–∞–≤–º–∏, –ø–æ–≥–æ–¥–∞, —Ä–µ—Ñ–µ—Ä—ñ)
- Over/Under 2.5 - —Å–∫–ª–∞–¥–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–±–ª–∏–∑—å–∫–æ 50/50 split)

**–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:**
- ‚ùå 100% —Ç–æ—á–Ω—ñ—Å—Ç—å - **DATA LEAKAGE** (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –º–∞—Ç—á—É —è–∫ —Ñ—ñ—á—ñ)
- ‚ùå 50% —Ç–æ—á–Ω—ñ—Å—Ç—å - –º–æ–¥–µ–ª—å –≥–∞–¥–∞—î –≤–∏–ø–∞–¥–∫–æ–≤–æ
- ‚úÖ **52-54% —Ç–æ—á–Ω—ñ—Å—Ç—å** - –º–æ–¥–µ–ª—å –¥—ñ–π—Å–Ω–æ –≤—á–∏—Ç—å—Å—è –∑ —ñ—Å—Ç–æ—Ä—ñ—ó –≥–æ–ª—ñ–≤!

### Statistically Significant Improvement

- Baseline (random guess): 50%
- –ù–∞—à–∞ –º–æ–¥–µ–ª—å: **52-54%**
- **Improvement: +2-4%** ‚úÖ

–¶–µ –æ–∑–Ω–∞—á–∞—î —â–æ –º–æ–¥–µ–ª—å **–¥—ñ–π—Å–Ω–æ –ø—Ä–∞—Ü—é—î**, –∞–ª–µ –Ω–µ —Ä–æ–±–∏—Ç—å —á—É–¥–µ—Å.

---

## üéØ –Ø–∫ –º–æ–¥–µ–ª—å –ø—Ä–∏–π–º–∞—î —Ä—ñ—à–µ–Ω–Ω—è?

### –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞:

1. **–ê–Ω–∞–ª—ñ–∑—É—î —ñ—Å—Ç–æ—Ä—ñ—é –≥–æ–ª—ñ–≤** (–Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ!):
   - –°–∫—ñ–ª—å–∫–∏ –∑–∞–±–∏–≤–∞–ª–∏ –≥–æ—Å–ø–æ–¥–∞—Ä—ñ –≤ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –º–∞—Ç—á–∞—Ö?
   - –°–∫—ñ–ª—å–∫–∏ –∑–∞–±–∏–≤–∞–ª–∏ –≥–æ—Å—Ç—ñ?
   - –°–∫—ñ–ª—å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–ª–∏ –æ–±–∏–¥–≤—ñ –∫–æ–º–∞–Ω–¥–∏?

2. **–î–∏–≤–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–µ–¥–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏**:
   - –°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–ª—ñ–≤ –∑–∞ —Å–µ–∑–æ–Ω
   - –¢—Ä–µ–Ω–¥ (–∫–æ–º–∞–Ω–¥–∏ –∑–∞–±–∏–≤–∞—é—Ç—å –±—ñ–ª—å—à–µ/–º–µ–Ω—à–µ –æ—Å—Ç–∞–Ω–Ω—ñ–º —á–∞—Å–æ–º?)

3. **–í—Ä–∞—Ö–æ–≤—É—î —Ñ–æ—Ä–º—É**:
   - –°–∫—ñ–ª—å–∫–∏ –æ—á–æ–∫ –Ω–∞–±—Ä–∞–ª–∏ –≤ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –º–∞—Ç—á–∞—Ö?
   - –°–∫—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–º–æ–≥?

4. **–ì–µ–Ω–µ—Ä—É—î –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å**:
   - –Ø–∫—â–æ –æ–±–∏–¥–≤—ñ –∫–æ–º–∞–Ω–¥–∏ –∑–∞–±–∏–≤–∞—é—Ç—å –±–∞–≥–∞—Ç–æ ‚Üí Over 2.5
   - –Ø–∫—â–æ –æ–±–∏–¥–≤—ñ –∫–æ–º–∞–Ω–¥–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—å –±–∞–≥–∞—Ç–æ ‚Üí Over 2.5
   - –Ø–∫—â–æ –∫–æ–º–∞–Ω–¥–∏ –Ω–µ –∑–∞–±–∏–≤–∞—é—Ç—å ‚Üí Under 2.5

---

## üìù –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä:
```bash
python app.py
```

### 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:5000/football

### 3. –í–∏–±—Ä–∞—Ç–∏ –º–∞—Ç—á —ñ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ "Prognose anzeigen"

### 4. –ü–æ–±–∞—á–∏—Ç–∏ –ø—Ä–æ–≥–Ω–æ–∑:
```
√úber 2.5 Tore: 56%
Unter 2.5 Tore: 44%

Prognose: Over 2.5
Vertrauen: 56%
```

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ!

### TODO: –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ –∫–æ–º–∞–Ω–¥

**–ó–∞—Ä–∞–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è placeholder –¥–∞–Ω—ñ** (—Ä—è–¥–æ–∫ 167 `routes_football.py`):
```python
match_data = {
    'home_recent_goals_for': 8,    # ‚Üê PLACEHOLDER
    'home_recent_goals_against': 6,
    # ...
}
```

**–ü–æ—Ç—Ä—ñ–±–Ω–æ:**
1. –ó–∞–ø–∏—Ç—É–≤–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –º–∞—Ç—á—ñ–≤ –∫–æ–º–∞–Ω–¥ –∑ Football-Data.org API
2. –†–æ–∑—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –≥–æ–ª–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 5-10 –º–∞—Ç—á—ñ–≤
3. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –≤ –º–æ–¥–µ–ª—å

**–§–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è:** `api/routes_football.py`, —Ñ—É–Ω–∫—Ü—ñ—è `get_prediction()`

**–ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö:**
```python
# Get home team last matches
home_matches = football_api.get_team_last_matches(match['homeTeam']['id'], limit=10)

# Calculate goals
home_recent_goals_for = sum(m['home_score'] for m in home_matches if m['team_side'] == 'home')
home_recent_goals_against = sum(m['away_score'] for m in home_matches if m['team_side'] == 'home')

# Same for away team
away_matches = football_api.get_team_last_matches(match['awayTeam']['id'], limit=10)
# ...
```

---

## üéâ –ü—ñ–¥—Å—É–º–æ–∫

‚úÖ **–ú–æ–¥–µ–ª—å –Ω–∞—Ç—Ä–µ–Ω–æ–≤–∞–Ω–∞** –∑ –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –≥–æ–ª–∏  
‚úÖ **–°–µ—Ä–≤—ñ—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ** –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑—ñ–≤  
‚úÖ **API —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ** –≤ `/api/football/predictions/{id}`  
‚úÖ **UI –æ–Ω–æ–≤–ª–µ–Ω–æ** –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è Over/Under 2.5  
‚úÖ **–¢–æ—á–Ω—ñ—Å—Ç—å 52-54%** (—Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∞ –æ—Ü—ñ–Ω–∫–∞)  
‚úÖ **Disclaimer –¥–æ–¥–∞–Ω–æ** –ø—Ä–æ –æ–±–º–µ–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ  

**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∑–∞–º—ñ—Å—Ç—å placeholder –¥–∞–Ω–∏—Ö!

---

**–î–∞—Ç–∞:** 2025-10-11  
**–°—Ç–∞—Ç—É—Å:** üü¢ READY (–∑ placeholder –¥–∞–Ω–∏–º–∏) ‚Üí ‚ö†Ô∏è TODO (—Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ)
